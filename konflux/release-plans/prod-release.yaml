apiVersion: appstudio.redhat.com/v1alpha1
kind: ReleasePlan
metadata:
  name: automotive-dev-operator-prod
  namespace: default
  labels:
    release.appstudio.openshift.io/auto-release: "false"
spec:
  application: automotive-dev-operator
  target: production-environment
  
  # Strict policy enforcement for production
  policy:
    - name: automotive-dev-operator-policy
  
  # Pipeline to execute for release
  pipeline:
    pipelineRef:
      resolver: git
      params:
        - name: url
          value: https://github.com/centos-automotive-suite/automotive-dev-operator
        - name: revision
          value: main
        - name: pathInRepo
          value: .tekton/release-pipeline.yaml
    
    params:
      - name: release-strategy
        value: production
      - name: snapshot
        value: "{{snapshot}}"
      - name: target-namespace
        value: automotive-dev-operator-system
      - name: create-github-release
        value: "true"
  
  releaseGracePeriodDays: 30

